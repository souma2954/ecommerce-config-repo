# ====================================
# Service Identity
# ====================================
spring.application.name=order-service
server.port=8083

# ====================================
# Database (H2 for Dev)
# ====================================
spring.datasource.url=jdbc:h2:mem:orderdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# Enable H2 console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# ====================================
# JWT Settings (fetched by security filter / Feign calls)
# ====================================
jwt.secret=MySuperSecretKeyForOrders
jwt.expiration=3600000

# ====================================
# Feign Clients (User + Product service)
# ====================================
feign.client.config.default.connectTimeout=5000
feign.client.config.default.readTimeout=5000
feign.client.config.default.loggerLevel=full

# ====================================
# Resilience4j Circuit Breaker
# ====================================
resilience4j.circuitbreaker.instances.productService.register-health-indicator=true
resilience4j.circuitbreaker.instances.productService.sliding-window-size=10
resilience4j.circuitbreaker.instances.productService.failure-rate-threshold=50
resilience4j.circuitbreaker.instances.productService.wait-duration-in-open-state=10000
resilience4j.circuitbreaker.instances.productService.permitted-number-of-calls-in-half-open-state=3
